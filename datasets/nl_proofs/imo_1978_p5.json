{"name": "imo_1978_p5", "split": "valid", "informal_prefix": "/-- Let $f$ be an injective function from ${1,2,3,\\ldots}$ in itself. Prove that for any $n$ we have: $\\sum_{k=1}^{n} f(k)k^{-2} \\geq \\sum_{k=1}^{n} k^{-1}.$-/\n", "formal_statement": "theorem imo_1978_p5 (n : \u2115) (a : \u2115 \u2192 \u2115) (h\u2080 : Function.Injective a) (h\u2081 : a 0 = 0) (h\u2082 : 0 < n) :\n  (\u2211 k in Finset.Icc 1 n, (1 : \u211d) / k) \u2264 \u2211 k in Finset.Icc 1 n, (a k : \u211d) / k ^ 2 := by\n", "goal": "n : \u2115\na : \u2115 \u2192 \u2115\nh\u2080 : Function.Injective a\nh\u2081 : a 0 = 0\nh\u2082 : 0 < n\n\u22a2 \u2211 k \u2208 Finset.Icc 1 n, 1 / \u2191k \u2264 \u2211 k \u2208 Finset.Icc 1 n, \u2191(a k) / \u2191k ^ 2", "header": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\n", "natural_language_proof": "To prove the inequality \\(\\sum_{k=1}^{n} \\frac{f(k)}{k^{2}} \\geq \\sum_{k=1}^{n} \\frac{1}{k}\\) for any injective function \\(f\\) from the positive integers to itself, we'll proceed by analyzing the difference between the two sums and showing it's non-negative.\n\nLet\u2019s start by defining:\n\n\\[\nS = \\sum_{k=1}^{n} \\frac{f(k)}{k^{2}}\n\\]\n\\[\nH_n = \\sum_{k=1}^{n} \\frac{1}{k}\n\\]\n\nOur goal is to show that \\(S - H_n \\geq 0\\).\n\nFirst, observe that since \\(f\\) is injective (one-to-one), the values \\(f(k)\\) for \\(k = 1, 2, \\dots, n\\) are distinct positive integers. Let's consider the difference between the two sums term by term:\n\n\\[\nS - H_n = \\sum_{k=1}^{n} \\left( \\frac{f(k)}{k^{2}} - \\frac{1}{k} \\right) = \\sum_{k=1}^{n} \\frac{f(k) - k}{k^{2}}\n\\]\n\nLet\u2019s denote \\(s_k = f(k) - k\\). Since \\(f(k)\\) and \\(k\\) are positive integers, \\(s_k\\) is an integer, and the sum becomes:\n\n\\[\nS - H_n = \\sum_{k=1}^{n} \\frac{s_k}{k^{2}}\n\\]\n\nNext, note that:\n\n\\[\n\\sum_{k=1}^{n} s_k = \\sum_{k=1}^{n} (f(k) - k) = \\sum_{k=1}^{n} f(k) - \\sum_{k=1}^{n} k\n\\]\n\nSince \\(f(k)\\) are distinct positive integers, the smallest possible sum \\(\\sum_{k=1}^{n} f(k)\\) occurs when \\(f(k) = k\\), which gives \\(\\sum_{k=1}^{n} f(k) = \\sum_{k=1}^{n} k = \\frac{n(n+1)}{2}\\). If any \\(f(k)\\) is greater than \\(n\\), this sum increases.\n\nTherefore, we have:\n\n\\[\n\\sum_{k=1}^{n} s_k = \\sum_{k=1}^{n} f(k) - \\frac{n(n+1)}{2} \\geq 0\n\\]\n\nSo the total sum of the \\(s_k\\) is non-negative.\n\nNow, consider the weights \\(w_k = \\frac{1}{k^{2}}\\). These weights are positive and decreasing because as \\(k\\) increases, \\(k^{2}\\) increases, so \\(\\frac{1}{k^{2}}\\) decreases.\n\nWe can apply the following inequality: For any real numbers \\(a_k\\) and decreasing positive weights \\(w_k\\), if \\(\\sum_{k=1}^{n} a_k = A \\geq 0\\), then:\n\n\\[\n\\sum_{k=1}^{n} a_k w_k \\geq A w_n\n\\]\n\nIn our case, \\(a_k = s_k\\), \\(A = \\sum_{k=1}^{n} s_k \\geq 0\\), and \\(w_n = \\frac{1}{n^{2}}\\). Therefore:\n\n\\[\nS - H_n = \\sum_{k=1}^{n} s_k w_k \\geq A w_n \\geq 0\n\\]\n\nThis inequality shows that \\(S - H_n\\) is at least \\(0\\), hence:\n\n\\[\n\\sum_{k=1}^{n} \\frac{f(k)}{k^{2}} \\geq \\sum_{k=1}^{n} \\frac{1}{k}\n\\]\n\n**Answer:** **Proof:** The given inequality holds because\u2003\u2211\u2096\u208c\u2081\u207f\u2003f(k)\u2044k\u00b2\u00a0\u2265\u00a0\u2211\u2096\u208c\u2081\u207f\u00a01\u2044k.", "time_taken": 46.26621150970459}
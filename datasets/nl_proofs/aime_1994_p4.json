{"name": "aime_1994_p4", "split": "valid", "informal_prefix": "/-- Find the positive integer $n\\,$ for which\n$\n\\lfloor\\log_2{1}\\rfloor+\\lfloor\\log_2{2}\\rfloor+\\lfloor\\log_2{3}\\rfloor+\\cdots+\\lfloor\\log_2{n}\\rfloor=1994\n$\n(For real $x\\,$, $\\lfloor x\\rfloor\\,$ is the greatest integer $\\le x.\\,$) Show that it is 312.-/\n", "formal_statement": "theorem aime_1994_p4 (n : \u2115) (h\u2080 : 0 < n)\n  (h\u2080 : (\u2211 k in Finset.Icc 1 n, Int.floor (Real.logb 2 k)) = 1994) : n = 312 := by\n", "goal": "n : \u2115\nh\u2080\u271d : 0 < n\nh\u2080 : \u2211 k \u2208 Finset.Icc 1 n, \u230alogb 2 \u2191k\u230b = 1994\n\u22a2 n = 312", "header": "import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\n", "natural_language_proof": "To solve this problem, we need to compute the sum \\( S(n) = \\sum_{k=1}^{n} \\lfloor \\log_2 k \\rfloor \\) and find the positive integer \\( n \\) such that \\( S(n) = 1994 \\).\n\nFirst, observe that \\( \\lfloor \\log_2 k \\rfloor = m \\) for all integers \\( k \\) in the range \\( [2^m, 2^{m+1} - 1] \\). The number of integers in each of these ranges is \\( 2^{m+1} - 1 - (2^m) + 1 = 2^{m+1} - 2^m = 2^m \\).\n\nLet's create a table to calculate cumulative sums \\( S(n) \\) at \\( n = 2^{m+1} - 1 \\):\n\n\\[\n\\begin{align*}\n&m & \\text{Count} & m \\times \\text{Count} & S(n) \\\\\n&0 & 1 & 0 & 0 \\\\\n&1 & 2 & 2 & 2 \\\\\n&2 & 4 & 8 & 10 \\\\\n&3 & 8 & 24 & 34 \\\\\n&4 & 16 & 64 & 98 \\\\\n&5 & 32 & 160 & 258 \\\\\n&6 & 64 & 384 & 642 \\\\\n&7 & 128 & 896 & 1538 \\\\\n\\end{align*}\n\\]\n\nAt \\( m = 7 \\), the cumulative sum is \\( S(255) = 1538 \\). We need to reach \\( S(n) = 1994 \\), which lies between \\( S(255) = 1538 \\) and \\( S(511) = 3586 \\). So we need additional terms from the next range where \\( \\lfloor \\log_2 k \\rfloor = 8 \\).\n\nEach of these terms contributes \\( 8 \\) to the sum. The difference needed is \\( 1994 - 1538 = 456 \\), so we require \\( 456 / 8 = 57 \\) additional numbers.\n\nTherefore, \\( n = 255 + 57 = 312 \\).\n\n**Answer:** 312", "time_taken": 20.03564739227295}